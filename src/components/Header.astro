---
import NavMenuDesktop from "./NavMenuDesktop.astro";
import NavMenuMobile from "./NavMenuMobile.astro";
---

<header>
	<div id="logo-titles">
		<div id="top-component">
			<div id="titles">
				<h1 class="main-heading">Alberta Palaeontological Society</h1>
				<h2 class="secondary-heading">
					The Meeting Place for Amateur and Professional
					Palaeontologists
				</h2>
			</div>
		</div>
		<div id="other-logos">
			<a href="/">
				<img
					src="/logos/aps-logo.gif"
					alt="Alberta Palaeontological Society Logo"
					class="logo"
				/>
			</a>
			<a href="https://www.cspg.org/">
				<img
					src="/logos/CEGA_logo.png"
					alt="Canadian Energy Geoscience Association Logo"
					class="logo"
				/>
			</a>
			<a href="https://www.mtroyal.ca/">
				<img
					src="/logos/MRU_logo1.png"
					alt="Mount Royal Univerity Logo"
					class="logo"
				/>
			</a>
		</div>
	</div>

	<!-- Main section for the mobile / hamburger menu -->
	<!-- Hidden input for the hamburger menu -->
	<input type="checkbox" id="hamburger-input" />
	<label for="hamburger-input" id="hamburger-menu">
		<div id="hamburger-header-components">
			<div id="hamburger-icon">
				<span class="hamburger-line line1"></span>
				<span class="hamburger-line line2"></span>
				<span class="hamburger-line line3"></span>
			</div>
			<h1 id="sidebar-h1" class="main-heading">
				Alberta Palaeontological Society
			</h1>
		</div>
		<nav id="sidebar-menu">
			<NavMenuMobile />
		</nav>
	</label>
	<div class="overlay"></div>
</header>
<!-- Nav menu for the desktop view -->
<!--
	 <nav id="main-menu">
	-->
<div id="desktop-nav-menu">
	<NavMenuDesktop />
</div>
<!--
</nav>
	-->

<style>
	/* Header should be sticky to the top of the screen */
	header {
		/* position: sticky; */
		/* top: 0px; */
		background-color: var(--background-colour-medium);
		padding-bottom: var(--theme-spacing-base);
	}

	/* Making the hamburger menu pop in and out */
	#hamburger-input {
		visibility: hidden;
		display: none;
	}
	#sidebar-menu {
		left: -250px;
		position: fixed;
		top: 0%;
		transition: 0.3s;
		visibility: hidden;
		z-index: 5;
		padding-top: 40px;
		background-color: var(--background-colour-medium);
	}

	#sidebar-menu :global(ul) {
		list-style: none;
		display: flex;
		flex-direction: column;
		padding: 0 8px;
	}

	#hamburger-input:checked + #hamburger-menu #sidebar-menu {
		left: 0%;
		visibility: visible;
	}

	/* Making the hamburger icon animate, &c. */
	#hamburger-icon {
		position: sticky;
		width: 32px;
		height: 32px;
		/* padding: 4px; */
		z-index: 999;
		flex-shrink: 0;
	}
	#hamburger-icon .hamburger-line {
		display: block;
		height: 4px;
		border-radius: 10px;
		background-color: black;
		margin: 4px;
	}
	#hamburger-icon .line1 {
		transform-origin: 0% 0%;
		transition: transform 0.4s ease-in-out;
	}

	#hamburger-icon .line2 {
		transition: transform 0.2s ease-in-out;
	}

	#hamburger-icon .line3 {
		transform-origin: 0% 100%;
		transition: transform 0.4s ease-in-out;
	}

	#hamburger-input:checked #hamburger-menu {
		transform: translateX(0);
	}

	#hamburger-input:checked ~ #hamburger-menu .line1 {
		transform: rotate(45deg);
	}
	#hamburger-input:checked ~ #hamburger-menu .line2 {
		transform: scaleY(0);
	}
	#hamburger-input:checked ~ #hamburger-menu .line3 {
		transform: rotate(-45deg);
	}

	/* Creating the semi-transparent overlay when the check is visible */
	.overlay {
		visibility: hidden;
		display: none;
		opacity: 0%;
		position: absolute;
		top: 0%;
		left: 0%;
		width: 100vw;
		height: 100vh;
		background: black;
		transition: opacity var(--transition-speed-medium);
	}

	#hamburger-input:checked ~ .overlay {
		visibility: visible;
		display: block;
		opacity: 50%;
	}

	/* Main settings for the desktop header */

	header img.logo {
		padding: 0 var(--theme-spacing-base);
		height: 75px;
	}

	header img.main {
		padding: 4px;
		width: 100%;
		max-width: 600px;
	}

	header #other-logos {
		display: flex;
		flex-direction: row;
		justify-content: space-evenly;
	}
	header #top-component {
		display: flex;
		flex-direction: row;
		align-items: center;
		justify-content: center;
	}

	/* Initally hide most of the header (logos, &c. - just show them on the desktop site) */
	#logo-titles {
		display: none;
		visibility: hidden;
	}

	#hamburger-header-components {
		display: flex;
		flex-direction: row;
	}

	#sidebar-h1 {
		text-align: center;
		flex-grow: 1;
	}

	#desktop-nav-menu {
		position: sticky;
		top: 0%;
		visibility: hidden;
		display: none;
	}

	/* Making it responsive  - these styles should be applied for the desktop version*/
	@media screen and (min-width: 768px) {
		/* Show the main header on the desktop version */
		#logo-titles {
			display: block;
			visibility: visible;
		}

		/* Hide the hamurger menu */
		#hamburger-icon {
			visibility: hidden;
			display: none;
		}

		/* Making the header behave the way we want - change this later so that we can have a main part that doesn't move but a nav section that does*/
		header {
			margin-top: 12px;
			display: flex;
			flex-direction: row;
			justify-content: center;
			align-items: flex-start;
		}

		#sidebar-h1 {
			visibility: hidden;
			display: none;
		}

		#main-menu {
			position: sticky;
			top: 0%;
			display: flex;
			flex-direction: row;
			align-items: center;
			justify-content: center;
			background-color: var(--background-colour-medium);
		}
		/* #main-menu :global(ul) { */
		/* 	list-style: none; */
		/* 	display: flex; */
		/* 	flex-direction: row; */
		/* } */

		#sidebar-menu {
			visibility: hidden;
			display: none;
		}

		.main-heading {
			text-decoration-line: underline;
			text-decoration-color: var(--accent-colour-darker);
			text-decoration-thickness: calc(0.5 * var(--theme-spacing-base));
			margin-bottom: var(--theme-spacing-base);
		}
		.secondary-heading {
			margin-top: 0;
			margin-bottom: calc(4 * var(--theme-spacing-base));
		}

		#desktop-nav-menu {
			display: block;
			visibility: visible;
		}
	}
</style>
